controls:
    active Road  1
    active Crossroad  1
    active Cr2Rs  0
    active Conn  1
    active Bg2Bg  0
    active Bg2Rs  0
    active Rs2Cr  0
    active Rs2Bg  0
    active Building  1
    active RoadSegment  1
    active Block 1
    active UAV 1
    active Flag 0

names:
    outer uav1
    outer uav2
    outer id25


# from building to building
rule btb1 = Block[@w].(Building[@a].(UAV[@uav].($11) | Bg2Bg.(Conn[@b]|$1) |$5) | Building[@b].(Bg2Bg.(Conn[@a]|$4) |$3 ) | $2 ) |$9 ->
            Block[@w].(Building[@a].(Bg2Bg.(Conn[@b]|$1) |$5) | Building[@b].(UAV[@uav].($11) | Bg2Bg.(Conn[@a]|$4) |$3 ) | $2 ) |$9

# from building to roadsegment
rule btr1 = Block[@w].( Building[@a].(UAV[@uav].($11) | Bg2Rs.(Conn[@b]|$1) ) | $2) | Road[@r].(RoadSegment[@b].(Rs2Bg.(Conn[@a]|$4)|$3 ) |$5) |$9 ->
            Block[@w].( Building[@a].(Bg2Rs.(Conn[@b]|$1)  ) | $2)                  | Road[@r].(RoadSegment[@b].(UAV[@uav].($11) | Rs2Bg.(Conn[@a]|$4)|$3 ) |$5) |$9

# from roadsegment to building
rule rtb1 = Road[@r].(RoadSegment[@b].(UAV[@uav].($11) | Rs2Bg.(Conn[@a]|$4) |$3) |$5) | Block[@w].( Building[@a].(Bg2Rs.(Conn[@b]|$1) |$6) | $2) |$9 ->
            Road[@r].(RoadSegment[@b].(Rs2Bg.(Conn[@a]|$4)|$3) |$5)                    | Block[@w].( Building[@a].(UAV[@uav].($11) | Bg2Rs.(Conn[@b]|$1) |$6) | $2) |$9

# from road segment to crossroad
# rule rtc1 = Road[@w].( RoadSegment[@a].(UAV[@uav].($11) | Rs2Cr.(Conn[@b]|$1) |$5) | Crossroad[@b].(Cr2Rs.(Conn[@a]|$4)|$3 ) | $2 ) |$9 ->
  #          Road[@w].( RoadSegment[@a].(Rs2Cr.(Conn[@b]|$1)|$5) | Crossroad[@b].(UAV[@uav].($11) | Cr2Rs.(Conn[@a]|$4) |$3 ) | $2 ) |$9

# from crossroad to road segment
# rule ctr1 = Road[@w].( RoadSegment[@a].(Rs2Cr.(Conn[@b] |$1)|$5) | Crossroad[@b].(UAV[@uav].($11) | Cr2Rs.(Conn[@a]|$4) |$3 ) | $2 ) |$9 ->
  #          Road[@w].( RoadSegment[@a].(UAV[@uav].($11) | Rs2Cr.(Conn[@b] |$1) |$5) | Crossroad[@b].(Cr2Rs.(Conn[@a]|$4)|$3 ) | $2 ) |$9

# UAV grabs the flag
rule grabbing = Building[@id].(Flag | UAV[@uavid] | $0) -> Building[@id].(UAV[@uavid].Flag | $0)

model city10 = Block[id5].(Building[id25].(UAV[uav1]| Bg2Bg.(Conn[id21]) | Bg2Rs.(Conn[id42] | Conn[id44] | Conn[id46])) | Building[id21].(Bg2Rs.(Conn[id44] | Conn[id42] | Conn[id43]) | Bg2Bg.(Conn[id25]))) | Block[id4].(Building[id24].(Bg2Rs.(Conn[id45] | Conn[id42]) | Bg2Bg.(Conn[id20] | Conn[id23])) | Building[id22].(Flag | Bg2Bg.(Conn[id23] | Conn[id18]) | Bg2Rs.(Conn[id40] | Conn[id45])) | Building[id23].(Bg2Rs.(Conn[id45]) | Bg2Bg.(Conn[id22] | Conn[id24] | Conn[id19])) | Building[id20].(Bg2Rs.(Conn[id42] | Conn[id41]) | Bg2Bg.(Conn[id19] | Conn[id24])) | Building[id19].(Bg2Rs.(Conn[id41]) | Bg2Bg.(Conn[id20] | Conn[id23] | Conn[id18])) | Building[id18].(UAV[uav2] | Bg2Rs.(Conn[id41] | Conn[id40]) | Bg2Bg.(Conn[id19] | Conn[id22]))) | Road[id1].(Crossroad[id34].(Cr2Rs.(Conn[id46] | Conn[id44])) | Crossroad[id26].(Cr2Rs.(Conn[id38] | Conn[id37] | Conn[id36])) | Crossroad[id30].(Cr2Rs.(Conn[id39] | Conn[id38])) | RoadSegment[id39].(Rs2Bg.(Conn[id9] | Conn[id13] | Conn[id17]) | Rs2Cr.(Conn[id30] | Conn[id31])) | Crossroad[id32].(Cr2Rs.(Conn[id40] | Conn[id45])) | Crossroad[id33].(Cr2Rs.(Conn[id45] | Conn[id42] | Conn[id46])) | RoadSegment[id37].(Rs2Bg.(Conn[id17] | Conn[id9] | Conn[id13] | Conn[id12] | Conn[id16] | Conn[id8]) | Rs2Cr.(Conn[id29] | Conn[id26])) | RoadSegment[id36].(Rs2Bg.(Conn[id7] | Conn[id6] | Conn[id8]) | Rs2Cr.(Conn[id28] | Conn[id26])) | RoadSegment[id35].(Rs2Cr.(Conn[id28] | Conn[id27]) | Rs2Bg.(Conn[id6] | Conn[id14] | Conn[id10])) | RoadSegment[id41].(Rs2Bg.(Conn[id20] | Conn[id16] | Conn[id15] | Conn[id19] | Conn[id18] | Conn[id14]) | Rs2Cr.(Conn[id27] | Conn[id29])) | RoadSegment[id46].(Rs2Cr.(Conn[id34] | Conn[id33]) | Rs2Bg.(Conn[id25])) | RoadSegment[id44].(Rs2Cr.(Conn[id31] | Conn[id34]) | Rs2Bg.(Conn[id21] | Conn[id25])) | RoadSegment[id45].(Rs2Bg.(Conn[id23] | Conn[id24] | Conn[id22]) | Rs2Cr.(Conn[id32] | Conn[id33])) | RoadSegment[id42].(Rs2Cr.(Conn[id29] | Conn[id33]) | Rs2Bg.(Conn[id20] | Conn[id25] | Conn[id24] | Conn[id21])) | RoadSegment[id38].(Rs2Bg.(Conn[id9]) | Rs2Cr.(Conn[id30] | Conn[id26])) | Crossroad[id29].(Cr2Rs.(Conn[id37] | Conn[id41] | Conn[id42] | Conn[id43])) | Crossroad[id27].(Cr2Rs.(Conn[id40] | Conn[id35] | Conn[id41])) | RoadSegment[id43].(Rs2Bg.(Conn[id21] | Conn[id17]) | Rs2Cr.(Conn[id31] | Conn[id29])) | Crossroad[id28].(Cr2Rs.(Conn[id35] | Conn[id36])) | RoadSegment[id40].(Rs2Cr.(Conn[id32] | Conn[id27]) | Rs2Bg.(Conn[id22] | Conn[id18])) | Crossroad[id31].(Cr2Rs.(Conn[id43] | Conn[id44] | Conn[id39])))

marker beenTo1 = $pred->matches(Building[id25].UAV[uav1])
marker UAV1Flag = matches(UAV[uav1].Flag)
marker UAV2Flag = matches(UAV[uav2].Flag)

properties:
    SPOT-ACCEPTANCE =
     Acceptance: 2 Fin(UAV1Flag) | Fin(UAV2Flag)